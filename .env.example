# TechyBot Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# GitHub App Settings
# =============================================================================
# Get these from your GitHub App settings page
GITHUB_APP_ID=123456
GITHUB_WEBHOOK_SECRET=your-webhook-secret-here
GITHUB_PRIVATE_KEY_PATH=./github-private-key.pem

# =============================================================================
# Claude Code CLI Settings
# =============================================================================
# Path to Claude Code CLI (defaults to 'claude' in PATH)
CLAUDE_PATH=claude

# Claude model to use for reviews (optional, uses CLI default if not set)
# Examples: sonnet, opus, haiku, claude-sonnet-4-5-20250929
CLAUDE_MODEL=sonnet

# Optional Claude OAuth (used by internal/oauth if needed)
CLAUDE_ACCESS_TOKEN=
CLAUDE_REFRESH_TOKEN=
CLAUDE_EXPIRES_AT=
CLAUDE_CREDENTIALS_FILE=

# =============================================================================
# Bot Configuration
# =============================================================================
# The username that triggers the bot (e.g., @techy review)
BOT_USERNAME=techy

# Maximum diff size in bytes (diffs larger than this will be truncated)
MAX_DIFF_SIZE=100000

# =============================================================================
# Server Settings
# =============================================================================
PORT=8080

# =============================================================================
# Database Settings
# =============================================================================
# Postgres connection string
# Example: postgres://techy:techy_pass@localhost:5432/techybot?sslmode=disable
DATABASE_URL=postgres://techy:techy_pass@localhost:5432/techybot?sslmode=disable

# =============================================================================
# Redis / Asynq Settings
# =============================================================================
REDIS_ADDR=localhost:6379
REDIS_PASSWORD=
REDIS_DB=0
ASYNQ_QUEUE=reviews
ASYNQ_CONCURRENCY=3
ASYNQ_MAX_RETRY=10

# =============================================================================
# Admin API Settings
# =============================================================================
# Required for /api/* endpoints
ADMIN_API_KEY=change-me

# =============================================================================
# Logging
# =============================================================================
# Log level: debug, info, warn, error
LOG_LEVEL=info

# Log format: console (human readable) or json
LOG_FORMAT=console
